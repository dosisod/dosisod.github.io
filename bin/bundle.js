function nu(e,n,t,r){if(!n)return document.getElementById(e);let o=document.createElement(e);if(n)for(const e in n)o[e]=n[e];let d=o;if(t){let e=[];Array.isArray(t)?e=t:e.push(t),e.forEach((function(e){var n;(n=e)instanceof HTMLElement?o=n.appendChild(o).parentNode:"string"==typeof n&&(o=document.getElementById(n).appendChild(o).parentNode)}))}return r?d:o}
function recent_commits(){fetch("https://api.github.com/users/dosisod/events").then((function(e){return e.json()})).then((function(e){const t=e;var n=nu("recent");function o(e,t,n){nu("span",{className:"bubble "+t,innerText:e},n)}var s=[];for(const e of t){const t=new Date(e.created_at).toString().split(" ").splice(1,2).join(" "),n=e.repo.name.split("/")[1];if("PushEvent"==e.type)for(const o of e.payload.commits.reverse())s.push({date:t,commit:o.message.replace(/\n/g," "),repo:n});else"CreateEvent"==e.type&&null==e.payload.ref?s.push({date:t,new:"new repo",repo:n}):"PullRequestEvent"==e.type&&"closed"==e.payload.pull_request.state&&s.push({date:t,new:"new PR",repo:n})}var a="";for(const e of s){const t=nu("li",{className:"recent-commit"});e.date!=a?o(e.date,"bubble-fill",t):o(e.date,"bubble-spacer",t),a=e.date,o(e.repo,"bubble-void",t),e.commit?(o(e.commit,"bubble-void",t),n.appendChild(t)):e.new&&(o(e.new,"bubble-fill",t),n.appendChild(t))}}))}
